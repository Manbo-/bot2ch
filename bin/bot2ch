#!/usr/bin/env ruby

require 'thor'
require 'bot2ch'

module Bot2ch
  class App < Thor
    desc 'download', 'download images'
    def download(thread, dir = ".")
      Bot2ch.enable_downloader
      thread = Bot2ch::Thread.url_to_dat(thread)
      Bot2ch::Thread.new(thread).images.each do |image|
        image.download_to(dir)
      end
    end
  end
end

Bot2ch::App.start
